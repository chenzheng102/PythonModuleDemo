<!DOCTYPE html>
<!-- saved from url=(0046)https://demo.zentao.net/report-annualData.html -->
<html lang="zh-cn" class="os-mac screen-desktop-wide device-desktop not-firefox"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="renderer" content="webkit">
<title>2020年工作内容统计一览表 —— guest - 禅道</title>
<script>window.config={"webRoot":"\/","debug":0,"appName":"","cookieLife":30,"requestType":"PATH_INFO","requestFix":"-","moduleVar":"m","methodVar":"f","viewVar":"t","defaultView":"html","themeRoot":"\/theme\/","currentModule":"report","currentMethod":"annualdata","clientLang":"zh-cn","requiredFields":"","router":"\/index.php","save":"\u4fdd\u5b58","runMode":"","timeout":30000,"pingInterval":""};
window.lang={"submitting":"\u7a0d\u5019...","save":"\u4fdd\u5b58","expand":"\u5c55\u5f00\u5168\u90e8","timeout":"\u8fde\u63a5\u8d85\u65f6\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u73af\u5883\uff0c\u6216\u91cd\u8bd5\uff01"};

</script>
<script>config.onlybody = "no";</script><script src="./img/all.js"></script>
<link rel="stylesheet" href="./img/zh-cn.default.css" type="text/css" media="screen">
<style>.choose-date span, .dp-choose-date{ display:block; float:left; margin:0 10px;}
.dp-applied{float:left;}
.choose-date span{line-height:20px;}
.date{width:80px;}
ul li{list-style:none;}

#productList p{margin:2px 0;}
.table-bordered, .outer.with-side .main, .outer.with-side > form > .table, .outer.with-side > .table{border: none}

#report-list.list-group {margin-bottom: 0;}
#report-list .list-group-item {padding: 8px 15px; border-left: none; border-right: none;}
#report-list .list-group-item:first-child {border-top: 1px}
#report-list .list-group-item:last-child {border-bottom: 1px}
#report-list .list-group-item.active{background:none;color:#333;}
.proversion a {color: #81511C}

.main > .input-group {margin-bottom: 10px;}
.main > .input-group > .datepicker-wrapper {display: table-cell;}
.main > .input-group > .datepicker-wrapper > .form-control {padding: 5px 10px; height: 30px}
.main > .input-group > .datepicker-wrapper:before {top: 4px}
.main > .input-group > .datepicker-wrapper + .input-group-addon {border-left: none;border-right: none;}

td .deviation{padding-left:20px; text-align:left;}
.up{color:red; padding-right:2px;}
.down{color:green; padding-right:2px;}
.zero{color:#66CD00;}
.u50{color:#ED1C24;}
.u30{color:#F37021;}
.u10{color:#FAA61A;}
.u0{color:#FFCB05;}
.d0{color:#76B043;}
.d20{color:#33A52E;}

.checkboxes {margin-bottom: 10px;}
.checkboxes .checkbox-primary {margin-bottom: 5px;}
.fixed-header-copy thead tr th{color:#fff !important;}

body {height: 100vh; padding: 0;}
#container {position: fixed; top: 0; right: 0; bottom: 0; left: 0; display: flex; justify-content: center; align-items: center; background-color: #010417; color: #fff; background-size: cover; overflow: auto;}
#container:before {content: ' '; display: block; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 0; opacity: 0.9; background: #010419;}
#main {min-width: 1280px; min-height: 800px; position: absolute; z-index: 10; padding: 0; background-size: cover;}
#main > section {position: absolute; }
#main > section > header {height: 24px;}
#main > section > header > h2 {line-height: 24px; font-size: 14px; padding: 0 8px; float: left; margin: 0; position: relative; background: #1a77a5; position: relative; font-weight: normal;}
#main > section > header > h2:after {content: ' '; display: block; position: absolute; top: 0; right: -40px; bottom: 0; width: 40px; background: linear-gradient(to right, #1a77a5 0%, transparent 100%);}
#mainBg {position: absolute; top: 0; right: 0; bottom: 0; left: 0;}
.exporting #mainBg {background-color: rgb(1, 4, 25, .9);}
#loadIndicator {position: fixed; left: 0; right: 0; bottom: 0; top: 0; z-index: 1000; visibility: hidden;}
#loadIndicator.loading {visibility: visible;}
#loadIndicator:before {background-color: rgba(50,50,50,.65);}
#loadIndicator:after {font-size: 30px}

#header > h1 {width: 500px; margin: 40px auto 0; height: 58px; font-weight: normal; text-align: center; font-size: 20px; display: block; line-height: 58px; position: relative; left: -30px;}
#toolbar {position: absolute; right: 33px; top: 80px; text-align: center;}
#toolbar #year{width:70px; display:inline-block; margin-right:5px; padding-top:2px; border-color: #1a77a5; background-color: transparent; color:#fff;}
#toolbar #year option{background: #141414;}
.exporting #toolbar {display: none;}
#toolbar .btn-primary {border-color: #1a77a5; background-color: transparent; padding: 6px 7px;}
#toolbar .btn-primary:hover,
#toolbar .btn-primary:focus {border-color: #B5E8FF; background-color: #1a77a5;}

#block1 {left: 25px; top: 128px; width: 366px; height: 283px;}
#block1 > header {margin-top: 7px;}
#block1 > div {overflow: auto; max-height: 250px;}
#block1List {margin: 16px 36px 0 32px; padding: 0;}
#block1List > li {line-height: 40px; width: 294px; height: 46px; padding-left: 23px; position: relative; margin-bottom: 10px; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASYAAAAuCAMAAACyPkQxAAAAilBMVEW16P8AAAAAdakAdakAdakAdalBn8gBdqoAdam16P8AdqoEd6sAdakAdakAdakAdakqi7oAdakAdakCdqoNfK4AdakBdqoAdakAdakAdqoAdam16P+Pwtlkq8sJeqy62uiv1OSeyt6Au9RztNBWpMZLncI/l78zkbspi7chh7QZg7IRfq+mz+H1+vzlZNDsAAAAGnRSTlMNAH80IxAg1kR/1Yf26HRhF9/ItlOjmz8vBYfBgpwAAAFCSURBVGje7dZHcoNAEIXhbpSwUZachiBylO9/PReYUpUWAyxmqAK9/whf9+KR3SZeNc/zqqosiyLPsyxNkySOXdeNojB0HCcI7r5/u/0+mAjJu4EJTMryCURgUtUdTEMKwDSMSRDqzQETmMA0biGYwKSsCExgUpYLJjCBadxiMIFJWQmYwKSsFExgUlYGpoFMa0J95bQ/LQj1MvFhZxLqriBmc3cl1MvEi92BUFclGcy8PFmEOplE7XQ8fxKSV5FonFaXy5FQF1Pj9PNxxoCS5tG+dWJLTLHNGMdde8T/TlPNGMFpvbGI+QCnHiWDiZmvWyEss24h6Xsp6biSxNKm5lQrNUxsboXW+KlpOTVKb8R1X09OE2PS6dQq2cQzyHhvnXQpjcNk60nipEFpHt/UOulSmg9T7aRLaU5MbAj1PZTsP0LdcHztAh8bAAAAAElFTkSuQmCC);}
#block1List > li > strong {position: absolute; right: 18px; top: 2px; font-size: 20px; color: #B5E8FF;}

#block2 {left: 405px; top: 132px; width: 400px; height: 280px;}
#block2 > header {margin-top: 23px;}
#block2 > .progress-pie {margin: 18px 0 0 18px;}
#block2 > .progress-pie .progress-info {padding: 70px 0; pointer-events: none;}
#block2 > .progress-pie .progress-info > strong {font-size: 30px; font-weight: normal;}
#block2 > .progress-pie .progress-info > strong > small {font-size: 12px; color: #A0A0A0;}
#block2ListWrapper {position: absolute; left: 235px; top: 60px; padding-top: 20px; font-size: 14px; overflow: auto; max-height: 184px;}
#block2List {padding: 0;}
#block2List > li {padding-left: 25px; line-height: 20px; position: relative; color: #A0A0A0; margin-bottom: 15px;}
#block2List > li > .dot {position: absolute; width: 16px; height: 16px; left: 0; top: 2px; background: #00A0E9; border-radius: 2px;}
#block2List > li:first-child > .dot {background: #0068B7;}
#block2List > li:last-child > .dot {background: #7ECEF4;}
#block2List > li > div {margin-top: 5px; color: #fff; max-width: 80px;}
#block2List > li > div > span:last-child {float: right;}
#block2List > li > div > span small {color: #A0A0A0;}

#block3 {left: 825px; top: 129px; width: 421px; height: 284px; padding: 8px 0 8px 8px;}
#block3TableHeader {position: absolute; top: 8px; left: 8px; right: 10px; background: #0075A9; width: 401px;}
#block3TableHeader > thead > tr > th {color: #fff; font-weight: normal; line-height: 20px; padding: 2px 4px; border: none}
#block3 > .table-wrapper {overflow: auto; margin-top: 26px; max-height: 247px;}
#block3Table {color: #A0A0A0;}
#block3Table > tbody > tr > td {border-bottom: 1px #0075A9 dashed; line-height: 20px; padding: 5px 4px;}
#block3 .col-name {width: 170px;}
#block3 .col-storyCount {width: 80px; text-align: center;}
#block3 .col-taskCount {width: 80px; text-align: center;}
#block3 .col-bugCount {text-align: center;}

#block4 {left: 25px; top: 434px; width: 631px; height: 322px; padding: 0 30px 10px 10px}
#block4 .pri {display: inline-block; width: 13px; height: 8px; background: #2B4D6D; border-radius: 4px; margin-right: 8px;}
#block4 > header {margin-top: 12px; margin-left: -10px;}
#block4 > header > div > .pri {margin: 0 10px;}
#block4 > .row {margin-top: 20px; height:260px; overflow:auto;}
#block4 > .row > .col-xs-6 + .col-xs-6:before {content: ' '; display: block; position: absolute; left: 0; top: 10px; bottom: 26px; background: #1A2835; width: 1px;}
#block4 > .row > .col-xs-6 {text-align: center;}
#block4 .progress-info {pointer-events: 'none';}
#block4 .progress-info > p {color: #A0A0A0; margin-bottom: 0; margin-top: 25px;}
#block4 .progress-info > strong {font-size: 30px; font-weight: normal;}
#block4 .progress-info > strong > small {font-size: 12px; color: #A0A0A0;}
#block4 > .row > .col-xs-6 > ul {margin: 0 auto; width: 250px;}
#block4 > .row > .col-xs-6 > ul > li {float: left; width: 50%; text-align: left; color: #C9C9C9; margin-bottom: 8px;}
#block4 canvas {transform: rotate(150deg);}

#block5 {left: 672px; top: 434px; width: 574px; height: 322px;}
#block5 > header {margin-top: 12px; margin-left: 0;}
#block5Legend {position: absolute; right: 25px; top: 40px; color: #A0A0A0; font-size: 12px;}
#block5Legend .dot {display: inline-block; border: 1px solid #fff; border-radius: 50px; width: 10px; height: 10px; background: #22AC38; margin-right: 6px; margin-left: 12px;}
#block5 canvas {margin: 25px auto 0; display: block;}
</style><link rel="icon" href="https://demo.zentao.net/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="https://demo.zentao.net/favicon.ico" type="image/x-icon">
<!--[if lt IE 9]>
<script src='/js/html5shiv/min.js?v=12.4.4'></script>
<script src='/js/respond/min.js?v=12.4.4'></script>
<![endif]-->
<!--[if lt IE 10]>
<script src='/js/jquery/placeholder/min.js?v=12.4.4'></script>
<![endif]-->
</head>
<body class="m-report-annualdata">
<script src="./img/min.js"></script>
<div id="container" style="background-image: url(./img/annual_data_bg.png)">
<main id="main" style="top: 0px; left: 80px;">
<div id="mainBg" style="background-image: url(./img/annual_data_layout.png)"></div>
<header id="header">
<h1 class="text-holder" data-id="title">2020年工作内容统计一览表 —— guest</h1>
</header>
<section id="block1">
<header><h2 class="text-holder" data-id="block1.title">基本数据信息</h2></header>
<div><ul id="block1List"><li>累计登录次数 <strong>0</strong></li><li>累计参与项目数 <strong>43</strong></li><li>累计创建计划数 <strong>41</strong></li><li>累计创建需求数 <strong>54</strong></li></ul></div>
</section>
<section id="block2">
<header><h2 class="text-holder" data-id="block2.title">项目创建需求数及占比</h2></header>
<div id="block2Chart" class="progress-pie inline-block space progress-pie-200 progress-pie-180" data-value="0" data-doughnut-size="70" data-color="#186bb1" data-back-color="#84cff0" data-show-tip="true">
<canvas width="180" height="180" style="width: 180px; height: 180px;"></canvas>
<div class="progress-info">
<strong><span class="text-holder" data-id="block2.dataTotal">54</span><small class="text-holder" data-id="block2.unit">个</small></strong>
</div>
</div>
<div id="block2ListWrapper"><ul id="block2List"><li><span class="dot" style="background: #0068B7"></span> product1 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #1aa1e6"></span> product2 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #81cef2"></span> product3 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #aee3fc"></span> product4 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #b1e6ff"></span> TestProject <div><span>1<small>个</small></span><span>100%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> AMS <div><span>3<small>个</small></span><span>33.3%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 项目测试 <div><span>2<small>个</small></span><span>100%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> ms系统 <div><span>1<small>个</small></span><span>100%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> ms2 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 话梅条 <div><span>3<small>个</small></span><span>42.9%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> product001 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 1 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 温度控制 <div><span>1<small>个</small></span><span>100%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> product5 <div><span>1<small>个</small></span><span>100%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> product6 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> product7 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> product8 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> product9 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 软件测试学习 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> product10 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> product11 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> product12 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> product13 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 微信红包 <div><span>1<small>个</small></span><span>100%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 国家队 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 首页设计 <div><span>9<small>个</small></span><span>100%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 122222 <div><span>4<small>个</small></span><span>100%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 禅道测试产品demo1 <div><span>7<small>个</small></span><span>100%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 淘宝特价版 <div><span>1<small>个</small></span><span>100%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 禅道测试项目 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 禅道测试111111111 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 智慧城市 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 龙猫 <div><span>2<small>个</small></span><span>100%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> akjshda <div><span>4<small>个</small></span><span>100%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 羊驼 <div><span>2<small>个</small></span><span>100%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 多分支项目测试 <div><span>3<small>个</small></span><span>100%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 产品测试 <div><span>5<small>个</small></span><span>100%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 绚彩魔盒功能开发 <div><span>1<small>个</small></span><span>100%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 测试产品1 <div><span>2<small>个</small></span><span>100%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 测试产品2 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 禅道管理 <div><span>1<small>个</small></span><span>100%</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> 后台管理系统 <div><span>0<small>个</small></span><span>0</span></div></li><li><span class="dot" style="background: #ddeaf0"></span> Golang <div><span>0<small>个</small></span><span>0</span></div></li></ul></div>
</section>
<section id="block3">
<table class="table" id="block3TableHeader">
<thead>
<tr><th style="width: auto; text-align: left;">项目名称</th><th style="width: 80px; text-align: center;">计划数</th><th style="width: 80px; text-align: center;">需求数</th></tr>
</thead>
</table>
<div class="table-wrapper">
<table class="table" id="block3Table"><tbody><tr><td style="width: auto; text-align: left;">product1</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">product2</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">product3</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">product4</td><td style="width: 80px; text-align: center;">1</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">TestProject</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">1</td></tr><tr><td style="width: auto; text-align: left;">AMS</td><td style="width: 80px; text-align: center;">2</td><td style="width: 80px; text-align: center;">3</td></tr><tr><td style="width: auto; text-align: left;">项目测试</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">2</td></tr><tr><td style="width: auto; text-align: left;">ms系统</td><td style="width: 80px; text-align: center;">2</td><td style="width: 80px; text-align: center;">1</td></tr><tr><td style="width: auto; text-align: left;">ms2</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">话梅条</td><td style="width: 80px; text-align: center;">3</td><td style="width: 80px; text-align: center;">3</td></tr><tr><td style="width: auto; text-align: left;">product001</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">1</td><td style="width: 80px; text-align: center;">2</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">温度控制</td><td style="width: 80px; text-align: center;">4</td><td style="width: 80px; text-align: center;">1</td></tr><tr><td style="width: auto; text-align: left;">product5</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">1</td></tr><tr><td style="width: auto; text-align: left;">product6</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">product7</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">product8</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">product9</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">软件测试学习</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">product10</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">product11</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">product12</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">product13</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">微信红包</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">1</td></tr><tr><td style="width: auto; text-align: left;">国家队</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">首页设计</td><td style="width: 80px; text-align: center;">2</td><td style="width: 80px; text-align: center;">9</td></tr><tr><td style="width: auto; text-align: left;">122222</td><td style="width: 80px; text-align: center;">2</td><td style="width: 80px; text-align: center;">4</td></tr><tr><td style="width: auto; text-align: left;">禅道测试产品demo1</td><td style="width: 80px; text-align: center;">2</td><td style="width: 80px; text-align: center;">7</td></tr><tr><td style="width: auto; text-align: left;">淘宝特价版</td><td style="width: 80px; text-align: center;">1</td><td style="width: 80px; text-align: center;">1</td></tr><tr><td style="width: auto; text-align: left;">禅道测试项目</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">禅道测试111111111</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">智慧城市</td><td style="width: 80px; text-align: center;">1</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">龙猫</td><td style="width: 80px; text-align: center;">4</td><td style="width: 80px; text-align: center;">2</td></tr><tr><td style="width: auto; text-align: left;">akjshda</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">4</td></tr><tr><td style="width: auto; text-align: left;">羊驼</td><td style="width: 80px; text-align: center;">1</td><td style="width: 80px; text-align: center;">2</td></tr><tr><td style="width: auto; text-align: left;">多分支项目测试</td><td style="width: 80px; text-align: center;">12</td><td style="width: 80px; text-align: center;">3</td></tr><tr><td style="width: auto; text-align: left;">产品测试</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">5</td></tr><tr><td style="width: auto; text-align: left;">绚彩魔盒功能开发</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">1</td></tr><tr><td style="width: auto; text-align: left;">测试产品1</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">2</td></tr><tr><td style="width: auto; text-align: left;">测试产品2</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">禅道管理</td><td style="width: 80px; text-align: center;">1</td><td style="width: 80px; text-align: center;">1</td></tr><tr><td style="width: auto; text-align: left;">后台管理系统</td><td style="width: 80px; text-align: center;">1</td><td style="width: 80px; text-align: center;">0</td></tr><tr><td style="width: auto; text-align: left;">Golang</td><td style="width: 80px; text-align: center;">0</td><td style="width: 80px; text-align: center;">0</td></tr></tbody></table>
</div>
</section>
<section id="block4">
<header>
<h2 class="text-holder" data-id="block4.title">所创建需求数和对应的优先级及状态</h2>
</header>
<div class="row">
<div class="col-xs-6">
<div id="block4chart1" class="progress-pie inline-block space progress-pie-200 progress-pie-160" data-value="0" data-doughnut-size="80" data-color="#186bb1">
<canvas width="160" height="160" style="width: 160px; height: 160px;"></canvas>
<div class="progress-info">
<p class="text-holder" data-id="block4.chart1.title">创建需求优先级分布</p>
<strong><span class="text-holder" data-id="block4.chart1.total">54</span><small class="text-holder" data-id="block4.chart1.unit">个</small></strong>
</div>
</div>
<ul class="clearfix" id="block4chart1Info"><li><span class="pri" style="background: #CAAC32"></span>  P3 - 26 个</li><li><span class="pri" style="background: #0075A9"></span>  P0 - 11 个</li><li><span class="pri" style="background: #22AC38"></span>  P1 - 10 个</li><li><span class="pri" style="background: #2B4D6D"></span>  P2 - 7 个</li></ul>
</div>
<div class="col-xs-6">
<div id="block4chart2" class="progress-pie inline-block space progress-pie-160" data-value="0" data-doughnut-size="80" data-color="#186bb1">
<canvas width="160" height="160" style="width: 160px; height: 160px;"></canvas>
<div class="progress-info">
 <p class="text-holder" data-id="block4.chart2.title">创建需求阶段分布</p>
<strong><span class="text-holder" data-id="block4.chart2.total">54</span><small class="text-holder" data-id="block4.chart2.unit">个</small></strong>
</div>
</div>
<ul class="clearfix" id="block4chart2Info"><li><span class="pri" style="background: #CAAC32"></span>  未开始 - 16 个</li><li><span class="pri" style="background: #0075A9"></span>  已计划 - 18 个</li><li><span class="pri" style="background: #22AC38"></span>  测试完毕 - 1 个</li><li><span class="pri" style="background: #2B4D6D"></span>  已立项 - 9 个</li><li><span class="pri" style="background: #0071a4"></span>  测试中 - 2 个</li><li><span class="pri" style="background: #00a0e9"></span>  已发布 - 4 个</li><li><span class="pri" style="background: #7ecef4"></span>  研发完毕 - 2 个</li><li><span class="pri" style="background: #7ecef4"></span>  已关闭 - 2 个</li></ul>
</div>
</div>
</section>
<section id="block5">
<header>
<h2 class="text-holder" data-id="block5.title">月创建需求数</h2>
<div id="block5Legend"><span class="dot" style="background: #76FF03"></span> 月创建需求数</div>
</header>
<canvas id="block5Chart" width="520" height="240" style="width: 520px; height: 240px;"></canvas>
</section>
<div id="toolbar">
<select name="year" id="year" class="form-control">
<option value="2012" title="2012" data-keys="2012 2">2012</option>
<option value="2013" title="2013" data-keys="2013 2">2013</option>
<option value="2014" title="2014" data-keys="2014 2">2014</option>
<option value="2015" title="2015" data-keys="2015 2">2015</option>
<option value="2016" title="2016" data-keys="2016 2">2016</option>
<option value="2017" title="2017" data-keys="2017 2">2017</option>
<option value="2018" title="2018" data-keys="2018 2">2018</option>
<option value="2019" title="2019" data-keys="2019 2">2019</option>
<option value="2020" selected="selected" title="2020" data-keys="2020 2">2020</option>
</select>
<button type="button" class="btn btn-primary" id="exportBtn" title="导出"><i class="icon icon-share"></i></button>
<a id="imageDownloadBtn" class="hidden" download="annual_data.png"></a>
</div>
</main>
<div id="loadIndicator" class="load-indicator"></div>
</div>
<script>
var annualData =
{
    title: '2020年工作内容统计一览表 —— guest',

        block1:
    {
                title: '基本数据信息',
                data :[{"title":"\u7d2f\u8ba1\u767b\u5f55\u6b21\u6570","value":"0"},{"title":"\u7d2f\u8ba1\u53c2\u4e0e\u9879\u76ee\u6570","value":43},{"title":"\u7d2f\u8ba1\u521b\u5efa\u8ba1\u5212\u6570","value":41},{"title":"\u7d2f\u8ba1\u521b\u5efa\u9700\u6c42\u6570","value":54}]    },
        block2:
    {
                title: '项目创建需求数及占比',
                unit: '个',data: [{"title":"product1","value":0,"percent":"0"},{"title":"product2","value":0,"percent":"0"},{"title":"product3","value":0,"percent":"0"},{"title":"product4","value":0,"percent":"0"},{"title":"TestProject","value":1,"percent":"100%"},{"title":"AMS","value":3,"percent":"33.3%"},{"title":"\u9879\u76ee\u6d4b\u8bd5","value":2,"percent":"100%"},{"title":"ms\u7cfb\u7edf","value":1,"percent":"100%"},{"title":"ms2","value":0,"percent":"0"},{"title":"\u8bdd\u6885\u6761","value":3,"percent":"42.9%"},{"title":"product001","value":0,"percent":"0"},{"title":"1","value":0,"percent":"0"},{"title":"\u6e29\u5ea6\u63a7\u5236","value":1,"percent":"100%"},{"title":"product5","value":1,"percent":"100%"},{"title":"product6","value":0,"percent":"0"},{"title":"product7","value":0,"percent":"0"},{"title":"product8","value":0,"percent":"0"},{"title":"product9","value":0,"percent":"0"},{"title":"\u8f6f\u4ef6\u6d4b\u8bd5\u5b66\u4e60","value":0,"percent":"0"},{"title":"product10","value":0,"percent":"0"},{"title":"product11","value":0,"percent":"0"},{"title":"product12","value":0,"percent":"0"},{"title":"product13","value":0,"percent":"0"},{"title":"\u5fae\u4fe1\u7ea2\u5305","value":1,"percent":"100%"},{"title":"\u56fd\u5bb6\u961f","value":0,"percent":"0"},{"title":"\u9996\u9875\u8bbe\u8ba1","value":9,"percent":"100%"},{"title":"122222","value":4,"percent":"100%"},{"title":"\u7985\u9053\u6d4b\u8bd5\u4ea7\u54c1demo1","value":7,"percent":"100%"},{"title":"\u6dd8\u5b9d\u7279\u4ef7\u7248","value":1,"percent":"100%"},{"title":"\u7985\u9053\u6d4b\u8bd5\u9879\u76ee","value":0,"percent":"0"},{"title":"\u7985\u9053\u6d4b\u8bd5111111111","value":0,"percent":"0"},{"title":"\u667a\u6167\u57ce\u5e02","value":0,"percent":"0"},{"title":"\u9f99\u732b","value":2,"percent":"100%"},{"title":"akjshda","value":4,"percent":"100%"},{"title":"\u7f8a\u9a7c","value":2,"percent":"100%"},{"title":"\u591a\u5206\u652f\u9879\u76ee\u6d4b\u8bd5","value":3,"percent":"100%"},{"title":"\u4ea7\u54c1\u6d4b\u8bd5","value":5,"percent":"100%"},{"title":"\u7eda\u5f69\u9b54\u76d2\u529f\u80fd\u5f00\u53d1","value":1,"percent":"100%"},{"title":"\u6d4b\u8bd5\u4ea7\u54c11","value":2,"percent":"100%"},{"title":"\u6d4b\u8bd5\u4ea7\u54c12","value":0,"percent":"0"},{"title":"\u7985\u9053\u7ba1\u7406","value":1,"percent":"100%"},{"title":"\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf","value":0,"percent":"0"},{"title":"Golang","value":0,"percent":"0"}]    },
        block3:
    {
                cols: [{"title":"\u9879\u76ee\u540d\u79f0","width":"auto","align":"left"},{"title":"\u8ba1\u5212\u6570","width":"80","align":"center"},{"title":"\u9700\u6c42\u6570","width":"80","align":"center"}],rows: [["product1",0,0],["product2",0,0],["product3",0,0],["product4",1,0],["TestProject",0,"1"],["AMS",2,"3"],["\u9879\u76ee\u6d4b\u8bd5",0,"2"],["ms\u7cfb\u7edf",2,"1"],["ms2",0,0],["\u8bdd\u6885\u6761",3,"3"],["product001",0,0],["1",2,0],["\u6e29\u5ea6\u63a7\u5236",4,"1"],["product5",0,"1"],["product6",0,0],["product7",0,0],["product8",0,0],["product9",0,0],["\u8f6f\u4ef6\u6d4b\u8bd5\u5b66\u4e60",0,0],["product10",0,0],["product11",0,0],["product12",0,0],["product13",0,0],["\u5fae\u4fe1\u7ea2\u5305",0,"1"],["\u56fd\u5bb6\u961f",0,0],["\u9996\u9875\u8bbe\u8ba1",2,"9"],["122222",2,"4"],["\u7985\u9053\u6d4b\u8bd5\u4ea7\u54c1demo1",2,"7"],["\u6dd8\u5b9d\u7279\u4ef7\u7248",1,"1"],["\u7985\u9053\u6d4b\u8bd5\u9879\u76ee",0,0],["\u7985\u9053\u6d4b\u8bd5111111111",0,0],["\u667a\u6167\u57ce\u5e02",1,0],["\u9f99\u732b",4,"2"],["akjshda",0,"4"],["\u7f8a\u9a7c",1,"2"],["\u591a\u5206\u652f\u9879\u76ee\u6d4b\u8bd5",12,"3"],["\u4ea7\u54c1\u6d4b\u8bd5",0,"5"],["\u7eda\u5f69\u9b54\u76d2\u529f\u80fd\u5f00\u53d1",0,"1"],["\u6d4b\u8bd5\u4ea7\u54c11",0,"2"],["\u6d4b\u8bd5\u4ea7\u54c12",0,0],["\u7985\u9053\u7ba1\u7406",1,"1"],["\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf",1,0],["Golang",0,0]]    },
        block4:
    {
                title: '所创建需求数和对应的优先级及状态',
                chart1: {"title":"\u521b\u5efa\u9700\u6c42\u4f18\u5148\u7ea7\u5206\u5e03","unit":"\u4e2a","data":[{"title":3,"value":26,"legend":"P3"},{"title":0,"value":11,"legend":"P0"},{"title":1,"value":10,"legend":"P1"},{"title":2,"value":7,"legend":"P2"}]},chart2: {"title":"\u521b\u5efa\u9700\u6c42\u9636\u6bb5\u5206\u5e03","unit":"\u4e2a","data":[{"title":"wait","value":16,"legend":"\u672a\u5f00\u59cb"},{"title":"planned","value":18,"legend":"\u5df2\u8ba1\u5212"},{"title":"tested","value":1,"legend":"\u6d4b\u8bd5\u5b8c\u6bd5"},{"title":"projected","value":9,"legend":"\u5df2\u7acb\u9879"},{"title":"testing","value":2,"legend":"\u6d4b\u8bd5\u4e2d"},{"title":"released","value":4,"legend":"\u5df2\u53d1\u5e03"},{"title":"developed","value":2,"legend":"\u7814\u53d1\u5b8c\u6bd5"},{"title":"closed","value":2,"legend":"\u5df2\u5173\u95ed"}]},    },
        block5:
    {
                title: '月创建需求数',
                labels:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],datasets: [{"label":"\u6708\u521b\u5efa\u9700\u6c42\u6570","data":[0,0,0,0,0,0,0,0,0,0,54,0]}]    },
    };

$(function()
{
    showAnnualData(annualData);
});
</script>
<iframe frameborder="0" name="hiddenwin" id="hiddenwin" scrolling="no" class="debugwin hidden" src="./img/saved_resource.html"></iframe>
<script>
/**
 * Show or refresh annual data
 * @param {Object} data Annual data object
 * @return {void}
 */
function showAnnualData(data)
{
    // Block 1
    var $block1List = $('#block1List').empty();
    data.block1.data && $.each(data.block1.data, function(index)
    {
        var item = data.block1.data[index];
        $block1List.append('<li>' + item.title + ' <strong>' + item.value + '</strong></li>');
    });

    // Block 2
    data.block2.dataTotal = 0;
    var $block2List = $('#block2List').empty();
    var $block2Chart = $('#block2Chart');
    var pieChart = $block2Chart.data('pieChart');
    var pieChartColors = ['#0068B7', '#1aa1e6', '#81cef2', '#aee3fc', '#b1e6ff', '#ddeaf0'];
    while(pieChart.segments.length) pieChart.removeData();
    pieChart.options.tooltipTemplate = "<%=label%>: <%=value%>";
    data.block2.data && $.each(data.block2.data, function(index)
    {
        var item = data.block2.data[index];
        var color = pieChartColors[Math.min(pieChartColors.length - 1, index)];
        data.block2.dataTotal += item.value;
        $block2List.append('<li><span class="dot" style="background: ' + color + '"></span> ' + item.title + ' <div><span>' + item.value + '<small>' + data.block2.unit + '</small></span><span>' + (item.percent || '') + '</span></div></li>');
        pieChart.addData({color: color, label: item.title, value: item.value});
    });

    // Block3
    var $blcok3TableHeader = $('#block3TableHeader').find('tr').empty();
    data.block3.cols && $.each(data.block3.cols, function(index)
    {
        var col = data.block3.cols[index];
        var $th = $('<th></th>').text(col.title);
        $th.css({width: col.width, textAlign: col.align});
        $blcok3TableHeader.append($th);
    });
    var $block3TableRows = $('<tbody></tbody>');
    data.block3.rows && $.each(data.block3.rows, function(index)
    {
        var row = data.block3.rows[index];
        var $tr = $('<tr></tr>');
        $.each(data.block3.cols, function(colIndex)
        {
            var $td = $('<td></td>').text(row[colIndex]);
            var rowCol = data.block3.cols[colIndex];
            $td.css({width: rowCol.width, textAlign: rowCol.align});
            $tr.append($td);
        });
        $block3TableRows.append($tr);
    });
    $('#block3Table').empty().append($block3TableRows);

    // Block4
    var block4Colors = ['#CAAC32', '#0075A9', '#22AC38', '#2B4D6D', '#0071a4', '#00a0e9', '#7ecef4'];
    $.each(['chart1', 'chart2'], function(i, chartName)
    {
        var $chart = $('#block4' + chartName);
        var chart = $chart.data('pieChart');
        var chartData = data.block4[chartName];
        chartData.total = 0;
        while(chart.segments.length) chart.removeData();
        var dataLength = chartData.data && chartData.data.length;
        if(!dataLength) return;
        for(var i = 0; i < dataLength; ++i)
        {
            var item = chartData.data[i];
            chartData.total += item.value;
        }
        chart.addData({color: 'transparent', value: chartData.total / 5, label: ''});
        var $chartInfo = $('#block4' + chartName + 'Info').empty();
        for(var i = 0; i < dataLength; ++i)
        {
            var item = chartData.data[i];
            var color = block4Colors[Math.min(block4Colors.length - 1, i)];
            chart.addData({color: color, label: item.title, value: item.value, circleBeginEnd: true});
            $chartInfo.append('<li><span class="pri" style="background: ' + color + '"></span>  ' + (item.legend ? (item.legend + ' - ')  :'') + item.value + ' ' + chartData.unit + '</li>');
        };
    });

    // Block5
    var $block5Chart = $('#block5Chart');
    var block5Chart = $block5Chart.data('block5Chart');
    var block5Colors = ['#76FF03', '#2979FF', '#00B0FF', '#FFD740', '#B388FF'];
    var block5Datasets = [];
    var $block5Legend = $('#block5Legend').empty();
    $.each(data.block5.datasets, function(index)
    {
        var dataset = data.block5.datasets[index];
        var color = block5Colors[Math.min(block5Colors.length - 1, index)];
        block5Datasets.push({label: dataset.label, data: dataset.data, color: new $.zui.Color(color).fade(50).toCssStr()});
        $block5Legend.append('<span class="dot" style="background: ' + color + '"></span> ' + dataset.label);
    });
    if(!block5Chart)
    {
        block5Chart = $block5Chart.lineChart(
        {
            labels: data.block5.labels,
            datasets: block5Datasets
        }, {
            scaleFontColor: '#A0A0A0',
            datasetStrokeWidth: 1,
            pointDotRadius: 3,
            scaleShowVerticalLines: false,
            scaleGridLineColor: 'rgba(255,255,255,.3)'
        });
        $block5Chart.data('block5Chart', block5Chart);
    }
    else
    {
        $.each(block5Datasets, function(index)
        {
            var dataset = block5Datasets[index];
            var oldDataset = block5Chart.datasets[index];
            for(var i = 0; i < dataset.data.length; ++i)
            {
                oldDataset.points[i].value = dataset.data[i];
            }
        });
        block5Chart.update();
    }

    // Common text holders
    $('.text-holder').each(function()
    {
        var $this = $(this);
        var id = $this.data('id');
        var idPath = id.split('.');
        var dataProp = data;
        for(var i = 0; i < idPath.length; ++i)
        {
            dataProp = dataProp[idPath[i]];
        }
        $this.text(dataProp);
    });
}

/**
 * Export annual data to image file
 * @param {function} sucessCallback
 * @param {function} errorCallback
 * @return {void}
 */
function exportAnnualImage(sucessCallback, errorCallback)
{
    var $main = $('#main');
    if($main.hasClass('exporting')) return;
    var $loading = $('#loadIndicator');
    $loading.addClass('loading');
    var $container = $('#container');
    $main.addClass('exporting').css('backgroundImage', $container.css('backgroundImage'));
    var afterFinish = function(canvas)
    {
        $main.removeClass('exporting').css('backgroundImage', 'none');
        $loading.removeClass('loading');
    };
    html2canvas($main[0], {logging: false}).then(function(canvas)
    {
        canvas.onerror = function()
        {
            afterFinish(canvas);
            if(errorCallback) errorCallback('Cannot convert image to blob.');
        };
        canvas.toBlob(function(blob)
        {
            var imageUrl = URL.createObjectURL(blob);
            $('#imageDownloadBtn').attr({href: imageUrl})[0].click();
            if(sucessCallback) sucessCallback(imageUrl);
            afterFinish(canvas);
        });
    });
}

$(function()
{
    var $main = $('#main');
    var ajustPosition = function()
    {
        $main.css(
        {
            posotion: 'absolute',
            top: Math.max(0, Math.floor(($(window).height() - $main.outerHeight()) / 2)),
            left: Math.max(0, Math.floor(($(window).width() - $main.outerWidth()) / 2)),
        });
    };
    ajustPosition();
    $(window).on('resize', ajustPosition);

    $('#exportBtn').on('click', function()
    {
        exportAnnualImage();
    });

    $('#toolbar #year').change(function()
    {
        location.href = createLink('report', 'annualData', 'year=' + $(this).val());
    });
});
</script>


</body></html>